server:
  log_level: info
  http_listen_port: 12345

metrics:
  global:
    scrape_interval: 30s
    remote_write:
      - url: GRAFANA_CLOUD_URL_PLACEHOLDER
        basic_auth:
          username: GRAFANA_CLOUD_USERNAME_PLACEHOLDER
          password: GRAFANA_CLOUD_API_KEY_PLACEHOLDER
        queue_config:
          capacity: 10000
          max_shards: 50
          min_shards: 1
          max_samples_per_send: 5000
          batch_send_deadline: 5s
          min_backoff: 30ms
          max_backoff: 100ms

  configs:
    - name: techinsights
      scrape_configs:
        - job_name: 'techinsights-api'
          metrics_path: '/actuator/prometheus'
          static_configs:
            - targets: [ 'localhost:8080' ]
              labels:
                service: 'techinsights-api'
                environment: 'production'
                instance: 'aws-ec2'

        - job_name: 'node'
          static_configs:
            - targets: [ 'localhost:9100' ]
              labels:
                instance: 'aws-ec2'
                environment: 'production'

        - job_name: 'cadvisor'
          static_configs:
            - targets: [ 'localhost:8081' ]
              labels:
                instance: 'aws-ec2'
                environment: 'production'