metrics:
  global:
    scrape_interval: 30s
    remote_write:
      - url: GRAFANA_CLOUD_URL_PLACEHOLDER
        basic_auth:
          username: GRAFANA_CLOUD_USERNAME_PLACEHOLDER
          password: GRAFANA_CLOUD_API_KEY_PLACEHOLDER

  configs:
    - name: techinsights
      scrape_configs:
        - job_name: 'techinsights-api'
          metrics_path: '/actuator/prometheus'
          static_configs:
            - targets: [ 'localhost:8080' ]
              labels:
                service: 'techinsights-api'
                environment: 'production'
                instance: 'aws-ec2'

        - job_name: 'node'
          static_configs:
            - targets: [ 'localhost:9100' ]
              labels:
                instance: 'aws-ec2'
                environment: 'production'

        - job_name: 'cadvisor'
          static_configs:
            - targets: [ 'localhost:8081' ]
              labels:
                instance: 'aws-ec2'
                environment: 'production'